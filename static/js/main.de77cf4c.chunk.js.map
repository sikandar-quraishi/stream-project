{"version":3,"sources":["apis/streams.js","history.js","actions/index.js","actions/types.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamEdit.js","components/streams/StreamList.js","components/streams/StreamShow.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/streamReducer.js","reducers/index.js","index.js"],"names":["axios","create","baseURL","createBrowserHistory","fetchStream","id","dispatch","a","streams","get","response","type","payload","data","StreamForm","renderInput","input","label","meta","className","error","touched","autoComplete","renderError","onSubmit","formValues","props","this","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","connect","getState","userId","auth","post","history","push","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","getElementById","StreamDelete","match","params","Fragment","deleteStream","to","stream","renderContent","renderActions","state","ownProps","delete","StreamEdit","console","log","editStream","initialValues","_","pick","patch","StreamList","fetchStreams","currentUserId","map","key","renderAdmin","isSignedIn","style","textAlign","renderList","renderCreate","Object","values","StreamShow","videoRef","createRef","buildPlayer","player","destroy","flv","createPlayer","url","attachMediaElement","current","load","ref","width","controls","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignInClick","onSignOutClick","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","UserId","Header","App","path","exact","INTIAL_STATE","combineReducers","action","formReducer","mapKeys","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"sTAEeA,E,OAAAA,EAAMC,OAAO,CACxBC,QAAQ,0B,QCAGC,gB,yjBCSR,IAyBMC,EAAc,SAAAC,GAAE,8CAAI,WAAMC,GAAN,eAAAC,EAAA,sEACRC,EAAQC,IAAR,mBAAwBJ,IADhB,OACzBK,EADyB,OAG/BJ,EAAS,CAAEK,KCpCe,eDoCKC,QAASF,EAASG,OAHlB,2CAAJ,uD,kBElCvBC,E,2MAUJC,YAAc,YAA6B,IAA1BC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,KACvBC,EAAS,gBAAYD,EAAKE,OAASF,EAAKG,QAAU,QAAU,IAClE,OACE,yBAAKF,UAAWA,GACd,+BAAQF,GACR,2CAAWD,EAAX,CAAkBM,aAAa,SAC9B,EAAKC,YAAYL,K,EAKxBM,SAAW,SAACC,GAEV,EAAKC,MAAMF,SAASC,I,8EAtBW,IAAnBL,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QACnB,GAAID,GAASC,EACX,OACE,yBAAKF,UAAU,oBACb,yBAAKA,UAAU,UAAUC,M,+BAqB/B,OACE,0BACED,UAAU,gBACVK,SAAUG,KAAKD,MAAME,aAAaD,KAAKH,WAEvC,kBAACK,EAAA,EAAD,CAAOC,KAAK,QAAQC,UAAWJ,KAAKZ,YAAaE,MAAM,gBACvD,kBAACY,EAAA,EAAD,CACEC,KAAK,cACLC,UAAWJ,KAAKZ,YAChBE,MAAM,sBAER,4BAAQE,UAAU,qBAAlB,e,GArCiBa,IAAMC,WAuDhBC,cAAU,CACvBC,KAAM,aACNC,SAde,SAAAX,GACf,IAAMY,EAAS,GAQf,OAPKZ,EAAWa,QACdD,EAAOC,MAAQ,0BAGZb,EAAWc,cACdF,EAAOE,YAAc,gCAEhBF,IAGMH,CAGZpB,GCvDG0B,E,2MAqBJhB,SAAW,SAACC,GAEV,EAAKC,MAAMe,aAAahB,I,wEAGxB,OAGE,6BACE,+CACA,kBAAC,EAAD,CAAYD,SAAUG,KAAKH,gB,GA/BRQ,IAAMC,WAkElBS,cAAQ,KAAO,CAAED,aH/CJ,SAAAhB,GAAU,8CAAI,WAAOnB,EAAUqC,GAAjB,iBAAApC,EAAA,6DAChCqC,EAAWD,IAAWE,KAAtBD,OADgC,SAGjBpC,EAAQsC,KAAK,WAAb,KAA8BrB,EAA9B,CAA0CmB,YAHzB,OAGlClC,EAHkC,OAIxCJ,EAAS,CAAEK,KC3Be,gBD2BMC,QAASF,EAASG,OAClDkC,EAAQC,KAAK,KAL2B,2CAAJ,0DG+CvBN,CAAiCF,GCjDjCS,EAnBD,SAAAvB,GACZ,OAAOwB,IAASC,aACd,yBACEC,QAAS1B,EAAM2B,UACflC,UAAU,mCAEV,yBACEiC,QAAS,SAAAE,GAAC,OAAIA,EAAEC,mBAChBpC,UAAU,oCAEV,yBAAKA,UAAU,UAAUO,EAAMY,OAC/B,yBAAKnB,UAAU,WAAWO,EAAM8B,SAChC,yBAAKrC,UAAU,WAAWO,EAAM+B,WAGpCC,SAASC,eAAe,W,QCXtBC,E,4LAGAjC,KAAKD,MAAMtB,YAAYuB,KAAKD,MAAMmC,MAAMC,OAAOzD,M,sCAGlC,IAAD,OAENA,EAAOsB,KAAKD,MAAMmC,MAAMC,OAAxBzD,GAER,OACE,kBAAC,IAAM0D,SAAP,KACE,4BAAQX,QAAS,kBAAK,EAAK1B,MAAMsC,aAAa3D,IAAKc,UAAU,sBAA7D,UACA,kBAAC,IAAD,CAAM8C,GAAG,IAAI9C,UAAU,aAAvB,a,sCAMJ,OAAKQ,KAAKD,MAAMwC,OAGV,0DAAN,OAAiEvC,KAAKD,MAAMwC,OAAO5B,OAFxE,4C,+BAMX,OACI,kBAAC,EAAD,CACEA,MAAM,gBACNkB,QAAS7B,KAAKwC,gBACdV,QAAS9B,KAAKyC,gBACdf,UAAW,kBAAMN,EAAQC,KAAK,Y,GA/BbhB,IAAMC,WAyClBS,eAJS,SAAC2B,EAAOC,GAC5B,MAAO,CAACJ,OAAQG,EAAM7D,QAAQ8D,EAAST,MAAMC,OAAOzD,OAGhB,CAACD,cAAa4D,aLD1B,SAAA3D,GAAE,8CAAI,WAAMC,GAAN,SAAAC,EAAA,sEAC1BC,EAAQ+D,OAAR,mBAA2BlE,IADD,OAGhCC,EAAS,CAAEK,KC9CgB,gBD8CKC,QAASP,IACzC0C,EAAQC,KAAK,KAJmB,2CAAJ,wDKCfN,CAAuDkB,G,iBC3ChEY,E,2MAKJhD,SAAW,SAAAC,GACTgD,QAAQC,IAAIjD,GACZ,EAAKC,MAAMiD,WAAW,EAAKjD,MAAMmC,MAAMC,OAAOzD,GAAIoB,I,mFALlDE,KAAKD,MAAMtB,YAAYuB,KAAKD,MAAMmC,MAAMC,OAAOzD,M,+BAU/C,OADAoE,QAAQC,IAAI/C,KAAKD,OACZC,KAAKD,MAAMwC,OAId,6BACE,6CACA,kBAAC,EAAD,CACEU,cAAeC,IAAEC,KAAKnD,KAAKD,MAAMwC,OAAQ,QAAS,eAClD1C,SAAUG,KAAKH,YAPZ,+C,GAbYQ,IAAMC,WA+BhBS,eAJS,SAAC2B,EAAOC,GAC9B,MAAO,CAAEJ,OAAQG,EAAM7D,QAAQ8D,EAAST,MAAMC,OAAOzD,OAKrD,CAAED,cAAauE,WNGS,SAACtE,EAAIoB,GAAL,8CAAoB,WAAMnB,GAAN,eAAAC,EAAA,sEACrBC,EAAQuE,MAAR,mBAA0B1E,GAAMoB,GADX,OACtCf,EADsC,OAG5CJ,EAAS,CAAEK,KCvCc,cDuCKC,QAASF,EAASG,OAChDkC,EAAQC,KAAK,KAJ+B,2CAApB,wDMLXN,CAGb8B,GCnCIQ,E,4LAEFrD,KAAKD,MAAMuD,iB,kCAGDf,GACV,GAAIA,EAAOtB,SAAWjB,KAAKD,MAAMwD,cAC/B,OACE,yBAAK/D,UAAU,yBACb,kBAAC,IAAD,CAAM8C,GAAE,wBAAmBC,EAAO7D,IAAMc,UAAU,qBAAlD,QACA,kBAAC,IAAD,CAAM8C,GAAE,0BAAqBC,EAAO7D,IAAMc,UAAU,sBAApD,a,mCAKM,IAAD,OACX,OAAOQ,KAAKD,MAAMlB,QAAQ2E,KAAI,SAAAjB,GAC5B,OACE,yBAAK/C,UAAU,OAAOiE,IAAKlB,EAAO7D,IAC/B,EAAKgF,YAAYnB,GAClB,uBAAG/C,UAAU,qCACb,yBAAKA,UAAU,WACb,kBAAC,IAAD,CAAM8C,GAAE,mBAAcC,EAAO7D,IAAMc,UAAU,UACxC+C,EAAO5B,OAEZ,yBAAKnB,UAAU,cAAc+C,EAAO3B,oB,qCAQ5C,GAAIZ,KAAKD,MAAM4D,WACb,OACE,yBAAKC,MAAO,CAAEC,UAAW,UACvB,kBAAC,IAAD,CAAMvB,GAAG,eAAe9C,UAAU,qBAAlC,oB,+BASN,OACE,6BACE,uCACA,yBAAKA,UAAU,kBAAkBQ,KAAK8D,cACrC9D,KAAK+D,oB,GAjDW1D,IAAMC,WA+DhBS,eARS,SAAA2B,GACtB,MAAO,CACL7D,QAASmF,OAAOC,OAAOvB,EAAM7D,SAC7B0E,cAAeb,EAAMxB,KAAKD,OAC1B0C,WAAYjB,EAAMxB,KAAKyC,cAMzB,CAAEL,aPtCwB,yDAAM,WAAM3E,GAAN,eAAAC,EAAA,sEACTC,EAAQC,IAAI,YADH,OAC1BC,EAD0B,OAGhCJ,EAAS,CAAEK,KChCgB,gBDgCKC,QAASF,EAASG,OAHlB,2CAAN,wDOoCb6B,CAGbsC,G,SChEIa,E,YACF,WAAYnE,GAAO,IAAD,8BACd,4CAAMA,KAEDoE,SAAW9D,IAAM+D,YAHR,E,iFAME,IAEJ1F,EAAMsB,KAAKD,MAAMmC,MAAMC,OAAvBzD,GAEZsB,KAAKD,MAAMtB,YAAYC,GACvBsB,KAAKqE,gB,2CAILrE,KAAKqE,gB,6CAILrE,KAAKsE,OAAOC,Y,oCAIZ,IAAGvE,KAAKsE,QAAWtE,KAAKD,MAAMwC,OAA9B,CADS,IAID7D,EAAMsB,KAAKD,MAAMmC,MAAMC,OAAvBzD,GACRsB,KAAKsE,OAASE,IAAIC,aAAa,CAC3BzF,KAAM,MACN0F,IAAI,8BAAD,OAAgChG,EAAhC,UAEPsB,KAAKsE,OAAOK,mBAAmB3E,KAAKmE,SAASS,SAC7C5E,KAAKsE,OAAOO,U,+BAKZ,IAAI7E,KAAKD,MAAMwC,OACX,OAAO,2CAFP,MAKuBvC,KAAKD,MAAMwC,OAAlC5B,EALA,EAKAA,MAAOC,EALP,EAKOA,YACX,OACI,6BACI,2BAAOkE,IAAK9E,KAAKmE,SAAUP,MAAO,CAAEmB,MAAO,QAASC,UAAQ,IAC5D,4BAAKrE,GACL,4BAAKC,Q,GA/CIP,IAAMC,WAyDhBS,eAJS,SAAC2B,EAAOC,GAC5B,MAAO,CAACJ,OAAQG,EAAM7D,QAAQ8D,EAAST,MAAMC,OAAOzD,OAGhB,CAACD,eAA1BsC,CAAyCmD,GC5DlDe,E,2MAsBJC,aAAe,SAACvB,GAEVA,EACF,EAAK5D,MAAMoF,OAAO,EAAKjE,KAAKkE,YAAYtG,MAAMuG,SAE9C,EAAKtF,MAAMuF,W,EAMfC,cAAgB,WACd,EAAKrE,KAAKiE,U,EAIZK,eAAiB,WACf,EAAKtE,KAAKoE,W,mFApCS,IAAD,OAClBG,OAAOC,KAAKb,KAAK,gBAAgB,WAC/BY,OAAOC,KAAKC,OACTC,KAAK,CACJC,SACE,4EACFC,MAAO,UAERC,MAAK,WACJ,EAAK7E,KAAOuE,OAAOC,KAAKM,MAAMC,kBAE9B,EAAKf,aAAa,EAAKhE,KAAKyC,WAAW7E,OACvC,EAAKoC,KAAKyC,WAAWuC,OAAO,EAAKhB,sB,yCAgCvC,OAA8B,OAA1BlF,KAAKD,MAAM4D,WACN,KACC3D,KAAKD,MAAM4D,WAGjB,4BAAQlC,QAASzB,KAAKwF,eAAgBhG,UAAU,wBAC9C,uBAAGA,UAAU,gBADf,YASA,4BAAQiC,QAASzB,KAAKuF,cAAe/F,UAAU,wBAC7C,uBAAGA,UAAU,gBADf,yB,+BAcJ,OAAO,6BAAMQ,KAAKmG,wB,GA3EG9F,IAAMC,WAoFhBS,eAJS,SAAA2B,GACtB,MAAO,CAAEiB,WAAYjB,EAAMxB,KAAKyC,cAKhC,CAAEwB,OT9EkB,SAAAiB,GACpB,MAAO,CACLpH,KCdmB,UDenBC,QAASmH,IS2EDd,QTvEW,WACrB,MAAO,CACLtG,KCpBoB,cQuFT+B,CAGbkE,GCrEaoB,EAlBA,WACX,OACI,yBAAK7G,UAAU,8BACP,kBAAC,IAAD,CAAM8C,GAAG,IAAI9C,UAAU,QAAvB,WAGJ,yBAAKA,UAAU,cACX,kBAAC,IAAD,CAAM8C,GAAG,IAAI9C,UAAU,QAAvB,eAGA,kBAAC,EAAD,SCeD8G,EAnBH,WACV,OACE,yBAAK9G,UAAU,gBACb,kBAAC,IAAD,CAAQ4B,QAASA,GACf,6BACA,kBAAC,EAAD,MACA,kBAAC,IAAD,KACA,kBAAC,IAAD,CAAOmF,KAAK,IAAIC,OAAK,EAACpG,UAAWiD,IACjC,kBAAC,IAAD,CAAOkD,KAAK,eAAeC,OAAK,EAACpG,UAAWS,IAC5C,kBAAC,IAAD,CAAO0F,KAAK,sBAAsBC,OAAK,EAACpG,UAAW6B,IACnD,kBAAC,IAAD,CAAOsE,KAAK,oBAAoBC,OAAK,EAACpG,UAAWyC,IACjD,kBAAC,IAAD,CAAO0D,KAAK,eAAeC,OAAK,EAACpG,UAAW8D,S,kkBCnBpD,IAAMuC,EAAe,CACnB9C,WAAY,KACZ1C,OAAQ,M,6jBCKK,ICFAyF,eAAgB,CAC3BxF,KFDW,WAAmC,IAAlCwB,EAAiC,uDAAzB+D,EAAcE,EAAW,uCAC/C,OAAQA,EAAO3H,MACb,IXTmB,UWUjB,OAAO,KAAI0D,EAAX,CAAkBiB,YAAY,EAAM1C,OAAQ0F,EAAO1H,UACrD,IXVoB,WWWlB,OAAO,KAAIyD,EAAX,CAAkBiB,YAAY,EAAO1C,OAAQ,OAC/C,QACE,OAAOyB,IELTlC,KAAMoG,IACN/H,QDDW,WAAyB,IAAxB6D,EAAuB,uDAAf,GAAIiE,EAAW,uCACrC,OAAQA,EAAO3H,MACb,IZRyB,gBYSvB,OAAO,MAAK0D,EAAZ,GAAsBQ,IAAE2D,QAAQF,EAAO1H,QAAS,OAClD,IZTwB,eYWxB,IZbwB,gBYexB,IZXuB,cYYrB,OAAO,MAAKyD,EAAZ,eAAoBiE,EAAO1H,QAAQP,GAAKiI,EAAO1H,UACjD,IZdyB,gBYevB,OAAOiE,IAAE4D,KAAKpE,EAAOiE,EAAO1H,SAC9B,QACE,OAAOyD,MEZPqE,GAAmBtB,OAAOuB,sCAAwCC,IAClEC,GAAQC,YAAYC,GAAUL,GAAiBM,YAAgBC,OAGrE/F,IAASgG,OACT,kBAAC,IAAD,CAAUL,MAAOA,IACjB,kBAAC,EAAD,OACanF,SAASC,eAAe,W","file":"static/js/main.de77cf4c.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL:'http://localhost:3001'\r\n})","\r\nimport { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","import streams from \"../apis/streams\";\r\nimport history from '../history'\r\nimport {\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n  CREATE_STREAM,\r\n  FETCH_STREAMS,\r\n  FETCH_STREAM,\r\n  DELETE_STREAM,\r\n  EDIT_STREAM\r\n} from \"./types\";\r\n\r\nexport const signIn = UserId => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payload: UserId\r\n  };\r\n};\r\n\r\nexport const signOut = () => {\r\n  return {\r\n    type: SIGN_OUT\r\n  };\r\n};\r\n\r\nexport const createStream = formValues => async (dispatch, getState) => {\r\n  const { userId } = getState().auth;\r\n  // console.log(propss.data);\r\n  const response = await streams.post('/streams', { ...formValues, userId});\r\n  dispatch({ type: CREATE_STREAM, payload: response.data });\r\n  history.push('/');\r\n};\r\nexport const fetchStreams = () => async dispatch => {\r\n  const response = await streams.get('/streams');\r\n\r\n  dispatch({ type: FETCH_STREAMS, payload: response.data });\r\n};\r\nexport const fetchStream = id => async dispatch => {\r\n  const response = await streams.get(`/streams/${id}`);\r\n\r\n  dispatch({ type: FETCH_STREAM, payload: response.data });\r\n};\r\nexport const editStream = (id, formValues) => async dispatch => {\r\n  const response = await streams.patch(`/streams/${id}`, formValues);\r\n\r\n  dispatch({ type: EDIT_STREAM, payload: response.data });\r\n  history.push('/');\r\n};\r\nexport const deleteStream = id => async dispatch => {\r\n  await streams.delete(`/streams/${id}`);\r\n\r\n  dispatch({ type: DELETE_STREAM, payload: id });\r\n  history.push('/');\r\n};\r\n","export const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\nexport const CREATE_STREAM ='CREATE_STREAM';\r\nexport const FETCH_STREAMS = 'FETCH_STREAMS';\r\nexport const FETCH_STREAM = 'FETCH_STREAM';\r\nexport const DELETE_STREAM = 'DELETE_STREAM';\r\nexport const EDIT_STREAM = 'EDIT_STREAM';\r\n\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\n\r\nclass StreamForm extends React.Component {\r\n  renderError({ error, touched }) {\r\n    if (error && touched) {\r\n      return (\r\n        <div className=\"ui error message\">\r\n          <div className=\"header\">{error}</div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  renderInput = ({ input, label, meta }) => {\r\n    const className = `field ${meta.error && meta.touched ? \"error\" : \"\"}`;\r\n    return (\r\n      <div className={className}>\r\n        <label>{label}</label>\r\n        <input {...input} autoComplete=\"off\" />\r\n        {this.renderError(meta)}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  onSubmit = (formValues) => {\r\n    // console.log(formValues);\r\n    this.props.onSubmit(formValues);\r\n  }\r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"ui form error\"\r\n        onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n      >\r\n        <Field name=\"title\" component={this.renderInput} label=\"Enter Title\" />\r\n        <Field\r\n          name=\"description\"\r\n          component={this.renderInput}\r\n          label=\"Enter Description\"\r\n        />\r\n        <button className=\"ui button primary\">Submit</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = formValues => {\r\n  const errors = {};\r\n  if (!formValues.title) {\r\n    errors.title = \"You must enter a title\";\r\n  }\r\n\r\n  if (!formValues.description) {\r\n    errors.description = \"You must enter a description\";\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"streamForm\",\r\n  validate\r\n})(StreamForm);\r\n\r\n","import React from \"react\";\r\nimport { connect } from 'react-redux';\r\n// import { Field, reduxForm } from 'redux-form';\r\nimport { createStream } from '../../actions';\r\nimport StreamForm from './StreamForm';\r\n\r\nclass StreamCreate extends React.Component {\r\n  // renderError({error, touched}) {\r\n  //   if (error && touched) {\r\n  //     return (\r\n  //       <div className=\"ui error message\">\r\n  //         <div className=\"header\">{error}</div>\r\n  //       </div>\r\n  //     );\r\n  //   }\r\n  // }\r\n  // renderInput = ({ input, label, meta }) => {\r\n  //   const className = `field ${meta.error && meta.touched ? \"error\" : \"\"}`;\r\n  //   return (\r\n  //     <div className={className}>\r\n  //       <label>{label}</label>\r\n  //       <input {...input} autoComplete=\"off\" />\r\n  //       {this.renderError(meta)}\r\n  //     </div>\r\n  //   );\r\n  // };\r\n\r\n  onSubmit = (formValues) => {\r\n    // console.log(formValues);\r\n    this.props.createStream(formValues);\r\n  }\r\n  render() {\r\n    return (\r\n\r\n\r\n      <div>\r\n        <h3>Create a Stream</h3>\r\n        <StreamForm onSubmit={this.onSubmit}/>\r\n      </div>\r\n      // <form\r\n      //   className=\"ui form error\"\r\n      //   onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n      // >\r\n      //   <Field name=\"title\" component={this.renderInput} label=\"Enter Title\" />\r\n      //   <Field\r\n      //     name=\"description\"\r\n      //     component={this.renderInput}\r\n      //     label=\"Enter Description\"\r\n      //   />\r\n      //   <button className=\"ui button primary\">Submit</button>\r\n      // </form>\r\n    );\r\n  }\r\n}\r\n\r\n// const validate = formValues => {\r\n//   const errors = {};\r\n//   if (!formValues.title) {\r\n//     errors.title = \"You must enter a title\";\r\n//   }\r\n\r\n//   if (!formValues.description) {\r\n//     errors.description = \"You must enter a description\";\r\n//   }\r\n//   return errors;\r\n// };\r\n\r\n// const fromWrapped = reduxForm({\r\n//   form: \"streamCreate\",\r\n//   validate\r\n// })(StreamCreate);\r\n\r\nexport default connect(null , { createStream}) (StreamCreate);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\n\r\nconst Modal = props => {\r\n  return ReactDOM.createPortal(\r\n    <div\r\n      onClick={props.onDismiss}\r\n      className=\"ui dimmer modals visible active\"\r\n    >\r\n      <div\r\n        onClick={e => e.stopPropagation()}\r\n        className=\"ui standard modal visible active\"\r\n      >\r\n        <div className=\"header\">{props.title}</div>\r\n        <div className=\"content\">{props.content}</div>\r\n        <div className=\"actions\">{props.actions}</div>\r\n      </div>\r\n    </div>,\r\n    document.getElementById(\"modal\")\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport Modal from \"../Modal\";\r\nimport history from \"../../history\";\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream, deleteStream } from '../../actions';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass StreamDelete extends React.Component {\r\n\r\n    componentDidMount(){\r\n      this.props.fetchStream(this.props.match.params.id);\r\n    }\r\n\r\n  renderActions() {\r\n\r\n    const { id } = this.props.match.params;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <button onClick={()=> this.props.deleteStream(id)} className=\"ui button negative\">Delete</button>\r\n        <Link to=\"/\" className=\"ui button\">Cancel</Link>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  renderContent(){\r\n    if (!this.props.stream){\r\n        return 'Are you sure want to delet this stream?';\r\n    }\r\n    return `Are you sure you want to delete the stream with title: ${this.props.stream.title}`;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <Modal\r\n          title=\"Delete Stream\"\r\n          content={this.renderContent()}\r\n          actions={this.renderActions()}\r\n          onDismiss={() => history.push(\"/\")}\r\n        />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) =>{\r\n    return {stream: state.streams[ownProps.match.params.id]}\r\n}\r\n\r\nexport default connect(mapStateToProps, {fetchStream, deleteStream}) (StreamDelete);\r\n","import _ from \"lodash\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchStream, editStream } from \"../../actions\";\r\nimport StramForm from \"./StreamForm\";\r\n\r\nclass StreamEdit extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchStream(this.props.match.params.id);\r\n  }\r\n\r\n  onSubmit = formValues => {\r\n    console.log(formValues);\r\n    this.props.editStream(this.props.match.params.id, formValues);\r\n  };\r\n\r\n  render() {\r\n    console.log(this.props)\r\n    if (!this.props.stream) {\r\n      return <div>Loading...</div>;\r\n    }\r\n    return (\r\n      <div>\r\n        <h3>Edit a Stream</h3>\r\n        <StramForm\r\n          initialValues={_.pick(this.props.stream, \"title\", \"description\")}\r\n          onSubmit={this.onSubmit}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchStream, editStream }\r\n)(StreamEdit);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchStreams } from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass StreamList extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchStreams();\r\n  }\r\n\r\n  renderAdmin(stream) {\r\n    if (stream.userId === this.props.currentUserId) {\r\n      return (\r\n        <div className=\"right floated content\">\r\n          <Link to={`/streams/edit/${stream.id}`} className=\"ui button primary\">Edit</Link>\r\n          <Link to={`/streams/delete/${stream.id}`} className=\"ui button negative\">Delete</Link>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  renderList() {\r\n    return this.props.streams.map(stream => {\r\n      return (\r\n        <div className=\"item\" key={stream.id}>\r\n          {this.renderAdmin(stream)}\r\n          <i className=\"large middle aligned icon camera\" />\r\n          <div className=\"content\">\r\n            <Link to={`/streams/${stream.id}`} className=\"header\">\r\n                {stream.title}\r\n            </Link>\r\n            <div className=\"descrition\">{stream.description}</div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderCreate() {\r\n    if (this.props.isSignedIn) {\r\n      return (\r\n        <div style={{ textAlign: \"right\" }}>\r\n          <Link to=\"/streams/new\" className=\"ui button primary\">\r\n            Create Stream\r\n          </Link>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Streams</h2>\r\n        <div className=\"ui celled list\">{this.renderList()}</div>\r\n        {this.renderCreate()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    streams: Object.values(state.streams),\r\n    currentUserId: state.auth.userId,\r\n    isSignedIn: state.auth.isSignedIn\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchStreams }\r\n)(StreamList);\r\n","\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchStream } from '../../actions';\r\nimport flv from 'flv.js';\r\n\r\n\r\nclass StreamShow extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        \r\n        this.videoRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n            const { id } =this.props.match.params;\r\n\r\n        this.props.fetchStream(id);\r\n        this.buildPlayer();\r\n    }\r\n\r\n    componentDidUpdate(){\r\n        this.buildPlayer();\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.player.destroy();\r\n    }\r\n\r\n    buildPlayer(){\r\n        if(this.player || !this.props.stream){\r\n            return;\r\n        }\r\n        const { id } =this.props.match.params;\r\n        this.player = flv.createPlayer({\r\n            type: 'flv',\r\n            url: `http://localhost:8000/live/${id}.flv`\r\n        });\r\n        this.player.attachMediaElement(this.videoRef.current);\r\n        this.player.load();\r\n    }\r\n\r\n\r\n    render(){\r\n        if(!this.props.stream){\r\n            return <div>Loading...</div>;\r\n        }\r\n\r\n    const { title, description } = this.props.stream;\r\n        return (\r\n            <div>\r\n                <video ref={this.videoRef} style={{ width: '100%'}} controls />\r\n                <h1>{title}</h1>\r\n                <h5>{description}</h5>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) =>{\r\n    return {stream: state.streams[ownProps.match.params.id]};\r\n}\r\n\r\nexport default connect(mapStateToProps, {fetchStream}) (StreamShow);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { signIn, signOut } from \"../actions\";\r\n\r\nclass GoogleAuth extends React.Component {\r\n  // state = { isSignedIn: null };\r\n\r\n  componentDidMount() {\r\n    window.gapi.load('client:auth2', () => {\r\n      window.gapi.client\r\n        .init({\r\n          clientId:\r\n            \"1018341809654-el4ikdhq39ts844s1rnovmv1i4i7o0dn.apps.googleusercontent.com\",\r\n          scope: \"email\"\r\n        })\r\n        .then(() => {\r\n          this.auth = window.gapi.auth2.getAuthInstance();\r\n          // this.setState({ isSignedIn: this.auth.isSignedIn.get() });\r\n          this.onAuthChange(this.auth.isSignedIn.get());\r\n          this.auth.isSignedIn.listen(this.onAuthChange);\r\n        });\r\n    });\r\n  }\r\n\r\n\r\n\r\n  onAuthChange = (isSignedIn) => {\r\n    // this.setState({ isSignedIn: this.auth.isSignedIn.get() });\r\n    if (isSignedIn) {\r\n      this.props.signIn(this.auth.currentUser.get().getId());\r\n    } else {\r\n      this.props.signOut();\r\n    }\r\n  };\r\n\r\n\r\n\r\n  onSignInClick = () => {\r\n    this.auth.signIn();\r\n  };\r\n\r\n\r\n  onSignOutClick = () => {\r\n    this.auth.signOut();\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  renderAuthButton() {\r\n    if (this.props.isSignedIn === null) {\r\n      return null;\r\n    }else if (this.props.isSignedIn) {\r\n\r\n      return (\r\n        <button onClick={this.onSignOutClick} className=\"ui red google button\">\r\n          <i className=\"google icon\" />\r\n          Sign Out\r\n        </button>\r\n      );\r\n\r\n    } else {\r\n\r\n      return (\r\n        <button onClick={this.onSignInClick} className=\"ui red google button\">\r\n          <i className=\"google icon\" />\r\n          Sign In with Google\r\n        </button>\r\n      );\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  \r\n\r\n  render() {\r\n    return <div>{this.renderAuthButton()}</div>;\r\n    \r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { isSignedIn: state.auth.isSignedIn };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { signIn, signOut }\r\n)(GoogleAuth);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport GoogleAuth from './GoogleAuth'\r\n\r\nconst Header = () =>{\r\n    return(\r\n        <div className=\"ui secondary pointing menu\">\r\n                <Link to=\"/\" className=\"item\">\r\n                    Streamy\r\n                </Link>\r\n            <div className=\"right menu\">\r\n                <Link to=\"/\" className='item'>\r\n                    All Streams\r\n                </Link>\r\n                <GoogleAuth/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\nimport StreamCreate from \"./streams/StreamCreate\";\r\nimport StreamDelete from \"./streams/StreamDelete\";\r\nimport StreamEdit from \"./streams/StreamEdit\";\r\nimport StreamList from \"./streams/StreamList\";\r\nimport StreamShow from \"./streams/StreamShow\";\r\nimport Header from \"./Header\";\r\nimport history from '../history';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"ui container\">\r\n      <Router history={history}>\r\n        <div>\r\n        <Header />\r\n        <Switch>\r\n        <Route path=\"/\" exact component={StreamList} />\r\n        <Route path=\"/streams/new\" exact component={StreamCreate} />\r\n        <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\r\n        <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\r\n        <Route path=\"/streams/:id\" exact component={StreamShow} />\r\n        </Switch>\r\n        </div>\r\n      </Router>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { SIGN_IN, SIGN_OUT } from '../actions/types'\r\n\r\nconst INTIAL_STATE = {\r\n  isSignedIn: null,\r\n  userId: null\r\n};\r\n\r\nexport default (state = INTIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SIGN_IN:\r\n      return {...state, isSignedIn: true, userId: action.payload};\r\n    case SIGN_OUT:\r\n      return {...state, isSignedIn: false, userId: null};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import _ from \"lodash\";\r\nimport {\r\n  CREATE_STREAM,\r\n  FETCH_STREAMS,\r\n  FETCH_STREAM,\r\n  DELETE_STREAM,\r\n  EDIT_STREAM\r\n} from \"../actions/types\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case FETCH_STREAMS:\r\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\r\n    case FETCH_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case CREATE_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case EDIT_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case DELETE_STREAM:\r\n      return _.omit(state, action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport authReducer from './authReducer';\r\nimport streamReducer from './streamReducer';\r\n\r\n\r\n\r\nexport default combineReducers({\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    streams: streamReducer\r\n})\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)) );\n\n\nReactDOM.render(\n<Provider store={store}>\n<App />\n</Provider>, document.getElementById('root'));\n\n"],"sourceRoot":""}